{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formEl = document.querySelector('form');\nconst inputEl = document.querySelector('input');\nconst textareaEl = document.querySelector('textarea');\nconst localStorageKey = 'feedback-form-state';\nlet formData = { email: '', message: '' };\n\ncheckLocalStorage(formEl);\n\nfunction checkLocalStorage(form) {\n  const parsedFormData = JSON.parse(localStorage.getItem(localStorageKey));\n\n  if (parsedFormData === null) {\n    return;\n  }\n\n  formData = parsedFormData;\n\n  for (const key in parsedFormData) {\n    if (parsedFormData.hasOwnProperty(key)) {\n      form.elements[key].value = parsedFormData[key];\n    }\n  }\n}\n\nconst onFormInput = event => {\n  const fieldName = event.target.name;\n  const fieldValue = event.target.value.trim();\n\n  formData[fieldName] = fieldValue;\n  localStorage.setItem(localStorageKey, JSON.stringify(formData));\n};\n\nconst onFormSubmit = event => {\n  event.preventDefault();\n\n  if (!formData.email || !formData.message) {\n    return alert('Fill please all fields');\n  }\n\n  console.log(formData);\n\n  localStorage.removeItem(localStorageKey);\n  formData = { email: '', message: '' };\n  formEl.reset();\n};\n\nfunction addPlaceholderText(event) {\n  if (event.target === inputEl || event.target === textareaEl) {\n    event.target.placeholder = 'Type area';\n  }\n}\n\nfunction removePlaceholderText(event) {\n  if (event.target === inputEl || event.target === textareaEl) {\n    event.target.placeholder = '';\n  }\n}\n\nformEl.addEventListener('input', onFormInput);\nformEl.addEventListener('submit', onFormSubmit);\nformEl.addEventListener('focus', addPlaceholderText, true);\nformEl.addEventListener('blur', removePlaceholderText, true);\nwindow.addEventListener('load', () => (inputEl.placeholder = 'Type area'));\n"],"names":["formEl","inputEl","textareaEl","localStorageKey","formData","checkLocalStorage","form","parsedFormData","key","onFormInput","event","fieldName","fieldValue","onFormSubmit","addPlaceholderText","removePlaceholderText"],"mappings":"wFAAA,MAAMA,EAAS,SAAS,cAAc,MAAM,EACtCC,EAAU,SAAS,cAAc,OAAO,EACxCC,EAAa,SAAS,cAAc,UAAU,EAC9CC,EAAkB,sBACxB,IAAIC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EAEvCC,EAAkBL,CAAM,EAExB,SAASK,EAAkBC,EAAM,CAC/B,MAAMC,EAAiB,KAAK,MAAM,aAAa,QAAQJ,CAAe,CAAC,EAEvE,GAAII,IAAmB,KAIvB,CAAAH,EAAWG,EAEX,UAAWC,KAAOD,EACZA,EAAe,eAAeC,CAAG,IACnCF,EAAK,SAASE,CAAG,EAAE,MAAQD,EAAeC,CAAG,GAGnD,CAEA,MAAMC,EAAcC,GAAS,CAC3B,MAAMC,EAAYD,EAAM,OAAO,KACzBE,EAAaF,EAAM,OAAO,MAAM,KAAI,EAE1CN,EAASO,CAAS,EAAIC,EACtB,aAAa,QAAQT,EAAiB,KAAK,UAAUC,CAAQ,CAAC,CAChE,EAEMS,EAAeH,GAAS,CAG5B,GAFAA,EAAM,eAAc,EAEhB,CAACN,EAAS,OAAS,CAACA,EAAS,QAC/B,OAAO,MAAM,wBAAwB,EAGvC,QAAQ,IAAIA,CAAQ,EAEpB,aAAa,WAAWD,CAAe,EACvCC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACnCJ,EAAO,MAAK,CACd,EAEA,SAASc,EAAmBJ,EAAO,EAC7BA,EAAM,SAAWT,GAAWS,EAAM,SAAWR,KAC/CQ,EAAM,OAAO,YAAc,YAE/B,CAEA,SAASK,EAAsBL,EAAO,EAChCA,EAAM,SAAWT,GAAWS,EAAM,SAAWR,KAC/CQ,EAAM,OAAO,YAAc,GAE/B,CAEAV,EAAO,iBAAiB,QAASS,CAAW,EAC5CT,EAAO,iBAAiB,SAAUa,CAAY,EAC9Cb,EAAO,iBAAiB,QAASc,EAAoB,EAAI,EACzDd,EAAO,iBAAiB,OAAQe,EAAuB,EAAI,EAC3D,OAAO,iBAAiB,OAAQ,IAAOd,EAAQ,YAAc,WAAY"}